@page "/Users/UserList"
@inject UserService userService
@*@inject NavigationManager navigationManager*@

<div class="row border p-3">
	<h3 class="text-primary">User Summary</h3><hr />
		<div class="user-container">

		@foreach(var user in GetAllUsers())
		{
						<div>
							<div>
								<label>User</label>
								User Id: @user.Id<br />
								First Name: @user.FirstName<br />
								Last Name: @user.LastName<br />
								Creation Data: @user.CreationDate<br />
							</div>
						</div>
		}
		</div>
</div>

<br /><br />

@*User Id Input: <input type="number" @bind="@UserId" @bind:event="oninput"/><br />
First Name: <input type="text" @bind="@FirstName" @bind:event="oninput"/><br />
Last Name: <input type="text" @bind="@LastName" @bind:event="oninput"/><br />
StationIds: <input type="text" @bind="@StationIds" @bind:event="oninput"/><br />*@

@code {
	public List<UserUiDTO> GetAllUsers()
	{
		var response = userService.GetAllUsers();

		var result = new List<UserUiDTO>();

		foreach (var user in response)
		{
			var newUser = new UserUiDTO()
				{
					Id = (int)user.Id,
					FirstName = user.FirstName,
					LastName = user.LastName,
					CreationDate = (DateTime)user.CreationDate,
					StationsAssigned = new List<StationUiDTO>()
				}; 

			result.Add(newUser);
		}

		return result;
	}
}
